{"version":3,"sources":["formBinder.js","src/JayDataModules/src/JayDataModules/formBinder.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","$data","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_core","_core2","_jQuery","_jQuery2","$","radioCheck","keyBreaker","numberMatcher","isNumber","match","fn","extend","formBinder","convert","nodeName","toLowerCase","elements","makeArray","getParams","current","data","undefined","each","el","type","name","lastPart","key","val","isRadioCheck","test","parts","write","checked","parseFloat","Boolean","isArray","push","jaydata/core"],"mappings":"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","file":"formBinder.min.js","sourcesContent":["﻿// JayData 1.5.0 CTP\r\n// Dual licensed under MIT and GPL v2\r\n// Copyright JayStack Technologies (http://jaydata.org/licensing)\r\n//\r\n// JayData is a standards-based, cross-platform Javascript library and a set of\r\n// practices to access and manipulate data from various online and offline sources.\r\n//\r\n// Credits:\r\n//     Hajnalka Battancs, Dániel József, János Roden, László Horváth, Péter Nochta\r\n//     Péter Zentai, Róbert Bónay, Szabolcs Czinege, Viktor Borza, Viktor Lázár,\r\n//     Zoltán Gyebrovszki, Gábor Dolla\r\n//\r\n// More info: http://jaydata.org\r\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.$data = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _core = require('jaydata/core');\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _jQuery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jQuery2 = _interopRequireDefault(_jQuery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* Base: http://bitovi.com/blog/2010/06/convert-form-elements-to-javascript-object-literals-with-jquery-formBinder-plugin.html */\n(function ($) {\n    var radioCheck = /radio|checkbox/i,\n        keyBreaker = /[^\\[\\]]+/g,\n        numberMatcher = /^[\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?$/;\n\n    var isNumber = function isNumber(value) {\n        if (typeof value == 'number') {\n            return true;\n        }\n\n        if (typeof value != 'string') {\n            return false;\n        }\n\n        return value.match(numberMatcher);\n    };\n\n    $.fn.extend({\n        /**\r\n        * @parent dom\r\n        * @download http://jmvcsite.heroku.com/pluginify?plugins[]=jquery/dom/form_params/form_params.js\r\n        * @plugin jquery/dom/form_params\r\n        * @test jquery/dom/form_params/qunit.html\r\n        * <p>Returns an object of name-value pairs that represents values in a form.\r\n        * It is able to nest values whose element's name has square brackets. </p>\r\n        * Example html:\r\n        * @codestart html\r\n        * &lt;form>\r\n        *   &lt;input name=\"foo[bar]\" value='2'/>\r\n        *   &lt;input name=\"foo[ced]\" value='4'/>\r\n        * &lt;form/>\r\n        * @codeend\r\n        * Example code:\r\n        * @codestart\r\n        * $('form').formBinder() //-> { foo:{bar:2, ced: 4} }\r\n        * @codeend\r\n        *\r\n        * @demo jquery/dom/form_params/form_params.html\r\n        *\r\n        * @param {Boolean} [convert] True if strings that look like numbers and booleans should be converted.  Defaults to true.\r\n        * @return {Object} An object of name-value pairs.\r\n        */\n        formBinder: function formBinder(obj, convert) {\n            if (this[0].nodeName.toLowerCase() == 'form' && this[0].elements) {\n\n                return (0, _jQuery2.default)(_jQuery2.default.makeArray(this[0].elements)).getParams(obj, convert);\n            }\n            return (0, _jQuery2.default)(\"input[name], textarea[name], select[name]\", this[0]).getParams(obj, convert);\n        },\n        getParams: function getParams(obj, convert) {\n            var data = obj || {},\n                current;\n\n            convert = convert === undefined ? true : convert;\n\n            this.each(function () {\n                var el = this,\n                    type = el.type && el.type.toLowerCase();\n                //if we are submit, ignore\n                if (type == 'submit' || !el.name) {\n                    return;\n                }\n\n                var key = el.name,\n                    value = $.data(el, \"value\") || $.fn.val.call([el]),\n                    isRadioCheck = radioCheck.test(el.type),\n                    parts = key.match(keyBreaker),\n                    write = !isRadioCheck || !!el.checked,\n\n                //make an array of values\n                lastPart;\n\n                if (convert) {\n                    if (isNumber(value)) {\n                        value = parseFloat(value);\n                    } else if (value === 'true' || value === 'false') {\n                        value = Boolean(value);\n                    }\n                }\n\n                // go through and create nested objects\n                current = data;\n                for (var i = 0; i < parts.length - 1; i++) {\n                    if (!current[parts[i]]) {\n                        current[parts[i]] = {};\n                    }\n                    current = current[parts[i]];\n                }\n                lastPart = parts[parts.length - 1];\n\n                //now we are on the last part, set the value\n                if (lastPart in current && type === \"checkbox\") {\n                    if (!$.isArray(current[lastPart])) {\n                        current[lastPart] = current[lastPart] === undefined ? [] : [current[lastPart]];\n                    }\n                    if (write) {\n                        current[lastPart].push(value);\n                    }\n                } else if (write || !current[lastPart]) {\n                    current[lastPart] = write ? value : undefined;\n                }\n            });\n            return data;\n        }\n    });\n})(_jQuery2.default);\n\nexports.default = _core2.default;\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"jaydata/core\":\"jaydata/core\"}]},{},[1])(1)\n});\n\n","import $data, { $C, Guard, Container, Exception, MemberDefinition } from 'jaydata/core';\r\nimport jQuery from 'jQuery'\r\n\r\n/* Base: http://bitovi.com/blog/2010/06/convert-form-elements-to-javascript-object-literals-with-jquery-formBinder-plugin.html */\r\n(function ($) {\r\n    var radioCheck = /radio|checkbox/i,\r\n\t\tkeyBreaker = /[^\\[\\]]+/g,\r\n\t\tnumberMatcher = /^[\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?$/;\r\n\r\n    var isNumber = function (value) {\r\n        if (typeof value == 'number') {\r\n            return true;\r\n        }\r\n\r\n        if (typeof value != 'string') {\r\n            return false;\r\n        }\r\n\r\n        return value.match(numberMatcher);\r\n    };\r\n\r\n    $.fn.extend({\r\n        /**\r\n\t\t * @parent dom\r\n\t\t * @download http://jmvcsite.heroku.com/pluginify?plugins[]=jquery/dom/form_params/form_params.js\r\n\t\t * @plugin jquery/dom/form_params\r\n\t\t * @test jquery/dom/form_params/qunit.html\r\n\t\t * <p>Returns an object of name-value pairs that represents values in a form.\r\n\t\t * It is able to nest values whose element's name has square brackets. </p>\r\n\t\t * Example html:\r\n\t\t * @codestart html\r\n\t\t * &lt;form>\r\n\t\t *   &lt;input name=\"foo[bar]\" value='2'/>\r\n\t\t *   &lt;input name=\"foo[ced]\" value='4'/>\r\n\t\t * &lt;form/>\r\n\t\t * @codeend\r\n\t\t * Example code:\r\n\t\t * @codestart\r\n\t\t * $('form').formBinder() //-> { foo:{bar:2, ced: 4} }\r\n\t\t * @codeend\r\n\t\t *\r\n\t\t * @demo jquery/dom/form_params/form_params.html\r\n\t\t *\r\n\t\t * @param {Boolean} [convert] True if strings that look like numbers and booleans should be converted.  Defaults to true.\r\n\t\t * @return {Object} An object of name-value pairs.\r\n\t\t */\r\n        formBinder: function (obj, convert) {\r\n            if (this[0].nodeName.toLowerCase() == 'form' && this[0].elements) {\r\n\r\n                return jQuery(jQuery.makeArray(this[0].elements)).getParams(obj, convert);\r\n            }\r\n            return jQuery(\"input[name], textarea[name], select[name]\", this[0]).getParams(obj, convert);\r\n        },\r\n        getParams: function (obj, convert) {\r\n            var data = obj || {},\r\n\t\t\t\tcurrent;\r\n\r\n            convert = convert === undefined ? true : convert;\r\n\r\n            this.each(function () {\r\n                var el = this,\r\n\t\t\t\t\ttype = el.type && el.type.toLowerCase();\r\n                //if we are submit, ignore\r\n                if ((type == 'submit') || !el.name) {\r\n                    return;\r\n                }\r\n\r\n                var key = el.name,\r\n\t\t\t\t\tvalue = $.data(el, \"value\") || $.fn.val.call([el]),\r\n\t\t\t\t\tisRadioCheck = radioCheck.test(el.type),\r\n\t\t\t\t\tparts = key.match(keyBreaker),\r\n\t\t\t\t\twrite = !isRadioCheck || !!el.checked,\r\n\t\t\t\t\t//make an array of values\r\n\t\t\t\t\tlastPart;\r\n\r\n                if (convert) {\r\n                    if (isNumber(value)) {\r\n                        value = parseFloat(value);\r\n                    } else if (value === 'true' || value === 'false') {\r\n                        value = Boolean(value);\r\n                    }\r\n\r\n                }\r\n\r\n                // go through and create nested objects\r\n                current = data;\r\n                for (var i = 0; i < parts.length - 1; i++) {\r\n                    if (!current[parts[i]]) {\r\n                        current[parts[i]] = {};\r\n                    }\r\n                    current = current[parts[i]];\r\n                }\r\n                lastPart = parts[parts.length - 1];\r\n\r\n                //now we are on the last part, set the value\r\n                if (lastPart in current && type === \"checkbox\") {\r\n                    if (!$.isArray(current[lastPart])) {\r\n                        current[lastPart] = current[lastPart] === undefined ? [] : [current[lastPart]];\r\n                    }\r\n                    if (write) {\r\n                        current[lastPart].push(value);\r\n                    }\r\n                } else if (write || !current[lastPart]) {\r\n                    current[lastPart] = write ? value : undefined;\r\n                }\r\n\r\n            });\r\n            return data;\r\n        }\r\n    });\r\n})(jQuery);\r\n\r\nexport default $data\r\n"],"sourceRoot":"/source/"}